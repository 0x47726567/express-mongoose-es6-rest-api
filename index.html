<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Express-mongoose-es6-rest-api by KunalKapadia</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Express-mongoose-es6-rest-api</h1>
      <h2 class="project-tagline">:collision: A boilerplate application for building RESTful APIs Microservice in Node.js using express and mongoose in ES6 with code coverage and JsonWebToken Authentication</h2>
      <a href="https://github.com/KunalKapadia/express-mongoose-es6-rest-api" class="btn">View on GitHub</a>
      <a href="https://github.com/KunalKapadia/express-mongoose-es6-rest-api/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/KunalKapadia/express-mongoose-es6-rest-api/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="express--mongoose-rest-api-boilerplate-in-es6-with-code-coverage-" class="anchor" href="#express--mongoose-rest-api-boilerplate-in-es6-with-code-coverage-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Express &amp; mongoose REST API Boilerplate in ES6 with Code Coverage <a href="https://github.com/sindresorhus/awesome"><img src="https://cdn.rawgit.com/sindresorhus/awesome/d7305f38d29fed78fa85652e3a63e154dd8e8829/media/badge.svg" alt="Awesome"></a>
</h1>

<p><a href="https://travis-ci.org/KunalKapadia/express-mongoose-es6-rest-api"><img src="https://img.shields.io/travis/KunalKapadia/express-mongoose-es6-rest-api/master.svg?style=flat-square" alt="Build Status"></a>
<a href="https://coveralls.io/github/KunalKapadia/express-mongoose-es6-rest-api?branch=master"><img src="https://img.shields.io/coveralls/KunalKapadia/express-mongoose-es6-rest-api/master.svg?style=flat-square" alt="Coverage Status"></a>
<a href="https://codeclimate.com/github/KunalKapadia/express-mongoose-es6-rest-api"><img src="https://img.shields.io/codeclimate/github/KunalKapadia/express-mongoose-es6-rest-api.svg?style=flat-square" alt="Code Climate"></a>
<a href="https://www.bithound.io/github/KunalKapadia/express-es6-rest-api-starter"><img src="https://www.bithound.io/github/KunalKapadia/express-es6-rest-api-starter/badges/score.svg" alt="bitHound Overall Score"></a>
<a href="https://www.bithound.io/github/KunalKapadia/express-mongoose-es6-rest-api/master/dependencies/npm"><img src="https://www.bithound.io/github/KunalKapadia/express-mongoose-es6-rest-api/badges/dependencies.svg" alt="bitHound Dependencies"></a>
<a href="http://commitizen.github.io/cz-cli/"><img src="https://img.shields.io/badge/commitizen-friendly-brightgreen.svg?style=flat-square" alt="Commitizen friendly"></a>
<a href="http://opensource.org/licenses/MIT"><img src="https://img.shields.io/npm/l/stack-overflow-copy-paste.svg?style=flat-square" alt="MIT License"></a>
<a href="http://makeapullrequest.com"><img src="https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square" alt="PRs Welcome"></a></p>

<h1>
<a id="" class="anchor" href="#" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><a href="https://github.com/KunalKapadia/express-mongoose-es6-rest-api"><img src="https://cloud.githubusercontent.com/assets/4172932/12660610/90f5b856-c63a-11e5-878e-c9f0bbf33090.jpg" alt="Express ES6 REST API Starter"></a>
</h1>

<h2>
<a id="overview" class="anchor" href="#overview" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Overview</h2>

<p>This is a boilerplate application for building REST APIs in Node.js using ES6 and Express with Code Coverage and JWT Authentication. Helps you stay productive by following best practices. Follows <a href="https://github.com/airbnb/javascript">Airbnb's Javascript style guide</a>.</p>

<p>Heavily inspired from <a href="https://egghead.io/courses/how-to-write-an-open-source-javascript-library">Egghead.io - How to Write an Open Source JavaScript Library</a>.</p>

<h3>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h3>

<table>
<thead>
<tr>
<th>Feature</th>
<th>Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td>ES6 via Babel</td>
<td>ES6 support using <a href="https://babeljs.io/">Babel</a>.</td>
</tr>
<tr>
<td>Authentication via JsonWebToken</td>
<td>Supports authentication using <a href="https://www.npmjs.com/package/jsonwebtoken">jsonwebtoken</a>.</td>
</tr>
<tr>
<td>Code Linting</td>
<td>JavaScript code linting is done using <a href="http://eslint.org">ESLint</a> - a pluggable linter tool for identifying and reporting on patterns in JavaScript. Uses ESLint with <a href="https://github.com/airbnb/javascript/tree/master/packages/eslint-config-airbnb">eslint-config-airbnb</a>, which tries to follow the Airbnb JavaScript style guide.</td>
</tr>
<tr>
<td>Auto server restart</td>
<td>Restart the server using <a href="https://github.com/remy/nodemon">nodemon</a> in real-time anytime an edit is made, with babel compilation and eslint.</td>
</tr>
<tr>
<td>ES6 Code Coverage via <a href="https://www.npmjs.com/package/istanbul">istanbul</a>
</td>
<td>Supports code coverage of ES6 code using istanbul and mocha. Code coverage reports are saved in <code>coverage/</code> directory post <code>yarn test</code> execution. Open <code>coverage/lcov-report/index.html</code> to view coverage report. <code>yarn test</code> also displays code coverage summary on console. Code coverage can also be enforced overall and per file as well, configured via .istanbul.yml</td>
</tr>
<tr>
<td>Debugging via <a href="https://www.npmjs.com/package/debug">debug</a>
</td>
<td>Instead of inserting and deleting console.log you can replace it with the debug function and just leave it there. You can then selectively debug portions of your code by setting DEBUG env variable. If DEBUG env variable is not set, nothing is displayed to the console.</td>
</tr>
<tr>
<td>Promisified Code via <a href="https://github.com/petkaantonov/bluebird">bluebird</a>
</td>
<td>We love promise, don't we ? All our code is promisified and even so our tests via <a href="https://www.npmjs.com/package/supertest-as-promised">supertest-as-promised</a>.</td>
</tr>
<tr>
<td>API parameter validation via <a href="https://www.npmjs.com/package/express-validation">express-validation</a>
</td>
<td>Validate body, params, query, headers and cookies of a request (via middleware) and return a response with errors; if any of the configured validation rules fail. You won't anymore need to make your route handler dirty with such validations.</td>
</tr>
<tr>
<td>Pre-commit hooks</td>
<td>Runs lint and tests before any commit is made locally, making sure that only tested and quality code is committed</td>
</tr>
<tr>
<td>Secure app via <a href="https://github.com/helmetjs/helmet">helmet</a>
</td>
<td>Helmet helps secure Express apps by setting various HTTP headers.</td>
</tr>
<tr>
<td>Uses <a href="https://yarnpkg.com">yarn</a> over npm</td>
<td>Uses new released yarn package manager by facebook. You can read more about it <a href="https://code.facebook.com/posts/1840075619545360">here</a>
</td>
</tr>
</tbody>
</table>

<ul>
<li>CORS support via <a href="https://github.com/expressjs/cors">cors</a>
</li>
<li>Uses <a href="https://www.npmjs.com/package/http-status">http-status</a> to set http status code. It is recommended to use <code>httpStatus.INTERNAL_SERVER_ERROR</code> instead of directly using <code>500</code> when setting status code.</li>
<li>Has <code>.editorconfig</code> which helps developers define and maintain consistent coding styles between different editors and IDEs.</li>
</ul>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting Started</h2>

<p>Clone the repo:</p>

<div class="highlight highlight-source-shell"><pre>git clone git@github.com:KunalKapadia/express-mongoose-es6-rest-api.git
<span class="pl-c1">cd</span> express-mongoose-es6-rest-api</pre></div>

<p>Install yarn:</p>

<div class="highlight highlight-source-js"><pre>npm install <span class="pl-k">-</span>g yarn</pre></div>

<p>Install dependencies:</p>

<div class="highlight highlight-source-shell"><pre>yarn</pre></div>

<p>Start server:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># Start server</span>
yarn start

<span class="pl-c"># Selectively set DEBUG env var to get logs</span>
DEBUG=express-mongoose-es6-rest-api:<span class="pl-k">*</span> yarn start</pre></div>

<p>Refer <a href="https://www.npmjs.com/package/debug">debug</a> to know how to selectively turn on logs.</p>

<p>Tests:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># Run tests written in ES6 along with code coverage</span>
yarn <span class="pl-c1">test</span>

<span class="pl-c"># Run tests on file change</span>
yarn <span class="pl-c1">test</span>:watch

<span class="pl-c"># Run tests enforcing code coverage (configured via .istanbul.yml)</span>
yarn <span class="pl-c1">test</span>:check-coverage</pre></div>

<p>Lint:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># Lint code with ESLint</span>
yarn lint

<span class="pl-c"># Run lint on any file change</span>
yarn lint:watch</pre></div>

<p>Other gulp tasks:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># Wipe out dist and coverage directory</span>
gulp clean

<span class="pl-c"># Default task: Wipes out dist and coverage directory. Compiles using babel.</span>
gulp</pre></div>

<h5>
<a id="deployment" class="anchor" href="#deployment" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Deployment</h5>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># compile to ES5</span>
1. yarn build

<span class="pl-c"># upload dist/ to your server</span>
2. scp -rp dist/ user@dest:/path

<span class="pl-c"># install production dependencies only</span>
3. yarn --production

<span class="pl-c"># Use any process manager to start your services</span>
4. pm2 start dist/index.js</pre></div>

<p>In production you need to make sure your server is always up so you should ideally use any of the process manager recommended <a href="http://expressjs.com/en/advanced/pm.html">here</a>.
We recommend <a href="http://pm2.keymetrics.io/">pm2</a> as it has several useful features like it can be configured to auto-start your services if system is rebooted.</p>

<h2>
<a id="logging" class="anchor" href="#logging" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Logging</h2>

<p>Universal logging library <a href="https://www.npmjs.com/package/winston">winston</a> is used for logging. It has support for multiple transports.  A transport is essentially a storage device for your logs. Each instance of a winston logger can have multiple transports configured at different levels. For example, one may want error logs to be stored in a persistent remote location (like a database), but all logs output to the console or a local file. We just log to the console for simplicity, you can configure more transports as per your requirement.</p>

<h4>
<a id="api-logging" class="anchor" href="#api-logging" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API logging</h4>

<p>Logs detailed info about each api request to console during development.
<img src="https://cloud.githubusercontent.com/assets/4172932/12563354/f0a4b558-c3cf-11e5-9d8c-66f7ca323eac.JPG" alt="Detailed API logging"></p>

<h4>
<a id="error-logging" class="anchor" href="#error-logging" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error logging</h4>

<p>Logs stacktrace of error to console along with other details. You should ideally store all error messages persistently.
<img src="https://cloud.githubusercontent.com/assets/4172932/12563361/fb9ef108-c3cf-11e5-9a58-3c5c4936ae3e.JPG" alt="Error logging"></p>

<h2>
<a id="code-coverage" class="anchor" href="#code-coverage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Code Coverage</h2>

<p>Get code coverage summary on executing <code>yarn test</code>
<img src="https://cloud.githubusercontent.com/assets/4172932/12827832/a0531e70-cba7-11e5-9b7c-9e7f833d8f9f.JPG" alt="Code Coverage Text Summary"></p>

<p><code>yarn test</code> also generates HTML code coverage report in <code>coverage/</code> directory. Open <code>lcov-report/index.html</code> to view it.
<img src="https://cloud.githubusercontent.com/assets/4172932/12625331/571a48fe-c559-11e5-8aa0-f9aacfb8c1cb.jpg" alt="Code coverage HTML report"></p>

<h2>
<a id="a-boilerplate-only-option" class="anchor" href="#a-boilerplate-only-option" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>A Boilerplate-only Option</h2>

<p>If you would prefer not to use any of our tooling, delete the following files from the project: <code>package.json</code>, <code>gulpfile.babel.js</code>, <code>.eslintrc</code> and <code>.travis.yml</code>. You can now safely use the boilerplate with an alternative build-system or no build-system at all if you choose.</p>

<h2>
<a id="docs-and-recipes" class="anchor" href="#docs-and-recipes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Docs and Recipes</h2>

<ul>
<li>
<a href="https://github.com/gulpjs/gulp/tree/master/docs/recipes">Gulp recipes</a> - the official Gulp recipes directory includes a comprehensive list of guides for different workflows you can add to your project.</li>
</ul>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h2>

<p>Contributions, questions and comments are all welcome and encouraged. For code contributions submit a pull request with unit test.</p>

<h2>
<a id="meta" class="anchor" href="#meta" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Meta</h2>

<p>Kunal Kapadia – <a href="https://twitter.com/KunalKapadia12">@kunalkapadia12</a> – <a href="mailto:kunalkapadia12@gmail.com">kunalkapadia12@gmail.com</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/KunalKapadia/express-mongoose-es6-rest-api">Express-mongoose-es6-rest-api</a> is maintained by <a href="https://github.com/KunalKapadia">KunalKapadia</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
